<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des √âquipes - E-Sportify</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ asset('css/styles.css') }}">
</head>
<body class="with-sidebar" data-theme="dark">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <img src="{{ asset('images/logo3.png') }}" alt="Logo" class="sidebar-logo-img">
            </div>
            <h1 class="sidebar-brand">E-SPORTIFY</h1>
            <div class="online-count">
                <i class="fas fa-circle"></i> +21 000 JOUEURS
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="{{ path('app_home') }}" class="nav-link">
                <i class="fas fa-home"></i>
                <span>Accueil</span>
            </a>
            <a href="{{ path('app_equipes_index') }}" class="nav-link active">
                <i class="fas fa-users"></i>
                <span>√âquipes</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-trophy"></i>
                <span>Tournois</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-shopping-cart"></i>
                <span>Boutique</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-comments"></i>
                <span>Chat</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-rss"></i>
                <span>News</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="sidebar-footer-btn" id="themeToggle">
                <i class="fas fa-moon"></i>
                <span>Mode Nuit</span>
            </button>
            <a href="#" class="sidebar-footer-btn">
                <i class="fas fa-user"></i>
                <span>Mon Compte</span>
            </a>
        </div>
    </aside>


    <!-- Main Content -->
    <main class="main-content">

        <!-- Flash Messages -->
        {% for message in app.flashes('success') %}
            <div class="flash-success" role="status" aria-live="polite" style="margin:12px 0;">
                <i class="fas fa-check-circle" style="color: var(--success-color); font-size: 18px; margin-right:10px;"></i>
                <span style="color: var(--success-color); font-weight:600;">{{ message }}</span>
            </div>
        {% endfor %}
        {% for message in app.flashes('error') %}
            <div class="flash-error" role="status" aria-live="polite" style="margin:12px 0; background: rgba(255,0,110,0.06); border:1px solid var(--primary-pink); padding:10px 12px; border-radius:8px;">
                <i class="fas fa-exclamation-circle" style="color: var(--primary-pink); font-size: 18px; margin-right:10px;"></i>
                <span style="color: var(--primary-pink); font-weight:600;">{{ message }}</span>
            </div>
        {% endfor %}

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const flashes = document.querySelectorAll('.flash-success, .flash-error');
                if (!flashes.length) return;
                setTimeout(() => {
                    flashes.forEach(el => {
                        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                        el.style.opacity = '0';
                        el.style.transform = 'translateY(-8px)';
                        setTimeout(() => el.remove(), 700);
                    });
                }, 3000);
            });
        </script>

        <!-- Hero Introduction Section -->
        <div class="hero-section animate__animated animate__fadeIn" style="margin-bottom: 80px; background: linear-gradient(rgba(10, 14, 35, 0.85), rgba(10, 14, 35, 0.9)), url('{{ asset('images/gaming1.jpg') }}'); background-size: cover; background-position: center; background-attachment: fixed; border-radius: 24px; padding: 60px 40px;">
            <div class="hero-content" style="text-align: center;">
                <h1 class="hero-title" style="font-size: 56px; margin-bottom: 20px;">
                    BIENVENUE SUR E-SPORTIFY
                </h1>
                <p class="hero-subtitle" style="font-size: 22px; max-width: 800px; margin: 0 auto 40px;">
                    La plateforme ultime pour les passionn√©s d'e-sport. Rejoignez des √©quipes, participez √† des tournois √©piques et dominez la comp√©tition mondiale.
                </p>
                
                <!-- Hero Stats -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; max-width: 1000px; margin: 0 auto 50px;">
                    <div style="text-align: center; padding: 20px; background: rgba(0, 217, 255, 0.05); border-radius: 16px; border: 2px solid rgba(0, 217, 255, 0.2);">
                        <div style="font-size: 42px; font-family: 'Orbitron', sans-serif; font-weight: 900; color: var(--primary-blue); margin-bottom: 5px;">
                            21K+
                        </div>
                        <div style="color: var(--text-secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                            Joueurs Actifs
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: rgba(255, 0, 110, 0.05); border-radius: 16px; border: 2px solid rgba(255, 0, 110, 0.2);">
                        <div style="font-size: 42px; font-family: 'Orbitron', sans-serif; font-weight: 900; color: var(--primary-pink); margin-bottom: 5px;">
                            500+
                        </div>
                        <div style="color: var(--text-secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                            √âquipes Actives
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: rgba(123, 47, 255, 0.05); border-radius: 16px; border: 2px solid rgba(123, 47, 255, 0.2);">
                        <div style="font-size: 42px; font-family: 'Orbitron', sans-serif; font-weight: 900; color: var(--primary-purple); margin-bottom: 5px;">
                            150+
                        </div>
                        <div style="color: var(--text-secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                            Tournois
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: rgba(0, 255, 136, 0.05); border-radius: 16px; border: 2px solid rgba(0, 255, 136, 0.2);">
                        <div style="font-size: 42px; font-family: 'Orbitron', sans-serif; font-weight: 900; color: var(--success-color); margin-bottom: 5px;">
                            50K‚Ç¨
                        </div>
                        <div style="color: var(--text-secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                            Cash Prizes
                        </div>
                    </div>
                </div>

                <!-- Hero CTA Buttons -->
                <div class="hero-buttons" style="justify-content: center; margin-bottom: 50px;">
                    {% if myTeam %}
                        <a href="{{ path('app_equipes_show', {'id': myTeam.id}) }}" class="btn-gradient" style="padding: 18px 45px; font-size: 18px; text-decoration: none; display: inline-flex; align-items: center; gap: 10px;">
                            <i class="fas fa-eye"></i> Voir mon √âquipe
                        </a>
                    {% else %}
                        <a href="{{ path('app_equipes_new') }}" class="btn-gradient" style="padding: 18px 45px; font-size: 18px; text-decoration: none; display: inline-flex; align-items: center; gap: 10px;">
                            <i class="fas fa-plus-circle"></i> Cr√©er mon √âquipe
                        </a>
                    {% endif %}

                    <button class="btn-outline" onclick="window.location.href='#tournois'" style="padding: 18px 45px; font-size: 18px;">
                        <i class="fas fa-trophy"></i> Voir les Tournois
                    </button>
                </div>

                <!-- Hero Features -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; max-width: 1200px; margin: 0 auto;">
                    <div style="text-align: center; padding: 30px 20px; background: var(--card-bg); border-radius: 20px; border: 2px solid rgba(0, 217, 255, 0.1); transition: var(--transition);" class="hover-lift">
                        <div style="width: 70px; height: 70px; margin: 0 auto 20px; border-radius: 16px; background: rgba(0, 217, 255, 0.1); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-users" style="font-size: 36px; color: var(--primary-blue);"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 20px; margin-bottom: 12px;">
                            √âquipes Comp√©titives
                        </h3>
                        <p style="color: var(--text-secondary); line-height: 1.6; font-size: 15px;">
                            Rejoignez des √©quipes et participez √† des comp√©titions de haut niveau
                        </p>
                    </div>

                    <div style="text-align: center; padding: 30px 20px; background: var(--card-bg); border-radius: 20px; border: 2px solid rgba(255, 0, 110, 0.1); transition: var(--transition);" class="hover-lift">
                        <div style="width: 70px; height: 70px; margin: 0 auto 20px; border-radius: 16px; background: rgba(255, 0, 110, 0.1); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-trophy" style="font-size: 36px; color: var(--primary-pink);"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 20px; margin-bottom: 12px;">
                            Tournois √âpiques
                        </h3>
                        <p style="color: var(--text-secondary); line-height: 1.6; font-size: 15px;">
                            Affrontez les meilleurs joueurs dans des tournois avec des r√©compenses incroyables
                        </p>
                    </div>

                    <div style="text-align: center; padding: 30px 20px; background: var(--card-bg); border-radius: 20px; border: 2px solid rgba(123, 47, 255, 0.1); transition: var(--transition);" class="hover-lift">
                        <div style="width: 70px; height: 70px; margin: 0 auto 20px; border-radius: 16px; background: rgba(123, 47, 255, 0.1); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-comments" style="font-size: 36px; color: var(--primary-purple);"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 20px; margin-bottom: 12px;">
                            Communaut√© Active
                        </h3>
                        <p style="color: var(--text-secondary); line-height: 1.6; font-size: 15px;">
                            Connectez-vous avec plus de 21K joueurs passionn√©s du monde entier
                        </p>
                    </div>

                    <div style="text-align: center; padding: 30px 20px; background: var(--card-bg); border-radius: 20px; border: 2px solid rgba(0, 255, 136, 0.1); transition: var(--transition);" class="hover-lift">
                        <div style="width: 70px; height: 70px; margin: 0 auto 20px; border-radius: 16px; background: rgba(0, 255, 136, 0.1); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-shopping-cart" style="font-size: 36px; color: var(--success-color);"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 20px; margin-bottom: 12px;">
                            Boutique Premium
                        </h3>
                        <p style="color: var(--text-secondary); line-height: 1.6; font-size: 15px;">
                            Acc√©dez √† des packs exclusifs et boostez votre progression
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters Section -->
        <div class="filters-section animate__animated animate__fadeInUp">
            <form class="filters-form">
                <div class="filters-row">
                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-search"></i> Rechercher
                        </label>
                        <input type="text" name="search" class="filter-input" 
                               placeholder="Nom d'√©quipe...">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-medal"></i> Classement
                        </label>
                        <select name="classement" class="filter-select">
                            <option value="">Tous</option>
                            <option value="Bronze">Bronze</option>
                            <option value="Argent">Argent</option>
                            <option value="Or">Or</option>
                            <option value="Platine">Platine</option>
                            <option value="Diamant">Diamant</option>
                            <option value="Master">Master</option>
                            <option value="Challenger">Challenger</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-sort"></i> Trier
                        </label>
                        <select name="sort" class="filter-select">
                            <option value="recent">Plus r√©centes</option>
                            <option value="oldest">Plus anciennes</option>
                            <option value="name">Nom (A-Z)</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <button type="submit" class="btn-filter">
                            <i class="fas fa-filter"></i> Filtrer
                        </button>
                    </div>

                    <div class="filter-group">
                        <button type="reset" class="btn-filter btn-reset">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div style="margin-bottom: 80px;">
            <h2 class="section-title" style="margin-bottom: 40px;">
                <i class="fas fa-star"></i> √âQUIPES VEDETTES
            </h2>
            
            <div class="partners-grid">
                <!-- Team Card 1 - ALFA (STATIQUE) -->
                <div class="partner-card animate__animated animate__fadeInUp">
                    <div class="partner-image">
                        <img src="{{ asset('images/alpha.png') }}" alt="Alfa Gaming">
                    </div>
                    <div class="partner-info">
                        <h3 class="partner-name">ALPHA TEAM</h3>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <span class="badge badge-primary">
                                <i class="fas fa-medal"></i> PLATINE
                            </span>
                        </div>
                        <p class="partner-description">
                            Une √©quipe soud√©e cherchant √† atteindre les sommets de la ligue r√©gionale.
                        </p>
                        <div class="partner-stats">
                            <span class="partner-stat">
                                <i class="fas fa-calendar"></i> 28/12/2024
                            </span>
                            <span class="partner-stat">
                                <i class="fas fa-user-friends"></i> 1 Recrutement
                            </span>
                        </div>
                        <div class="partner-actions" style="display: flex; gap: 10px;">
                            <a href="{{ path('app_equipes_index') }}" class="btn-partner" style="flex: 1; text-decoration: none; display: flex; align-items: center; justify-content: center; font-size: 13px;">
                                <i class="fas fa-eye"></i> D√©tails
                            </a>
                            <a href="#" class="btn-gradient" style="flex: 1; text-decoration: none; padding: 10px; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 5px; border-radius: 8px;">
                                <i class="fas fa-paper-plane"></i> Postuler
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Team Card 2 - BLAZE (STATIQUE - FEATURED) -->
                <div class="partner-card featured animate__animated animate__fadeInUp" style="animation-delay: 0.1s">
                    <div class="partner-badge">
                        <i class="fas fa-crown"></i> TOP 1
                    </div>
                    <div class="partner-image">
                        <img src="{{ asset('images/blaze.jpg') }}" alt="Blaze Esports">
                    </div>
                    <div class="partner-info">
                        <h3 class="partner-name">BLAZE ESPORTS</h3>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <span class="badge badge-primary">
                                <i class="fas fa-star"></i> CHALLENGER
                            </span>
                        </div>
                        <p class="partner-description">
                            √âquipe d'√©lite sp√©cialis√©e dans les FPS comp√©titifs. Nous dominons la comp√©tition !
                        </p>
                        <div class="partner-stats">
                            <span class="partner-stat">
                                <i class="fas fa-calendar"></i> 27/01/2025
                            </span>
                            <span class="partner-stat">
                                <i class="fas fa-user-friends"></i> 3 Recrutements
                            </span>
                        </div>
                        <div class="partner-actions" style="display: flex; gap: 10px;">
                            <a href="{{ path('app_equipes_index') }}" class="btn-partner" style="flex: 1; text-decoration: none; display: flex; align-items: center; justify-content: center; font-size: 13px;">
                                <i class="fas fa-eye"></i> D√©tails
                            </a>
                            <a href="#" class="btn-gradient" style="flex: 1; text-decoration: none; padding: 10px; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 5px; border-radius: 8px;">
                                <i class="fas fa-paper-plane"></i> Postuler
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Team Card 3 - OMEGA (STATIQUE) -->
                <div class="partner-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s">
                    <div class="partner-image">
                        <img src="{{ asset('images/omega.jpg') }}" alt="Omega Squad">
                    </div>
                    <div class="partner-info">
                        <h3 class="partner-name">OMEGA SQUAD</h3>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <span class="badge badge-primary">
                                <i class="fas fa-crown"></i> MASTER
                            </span>
                        </div>
                        <p class="partner-description">
                            Masters de la strat√©gie en MOBA et jeux tactiques. Rejoignez l'excellence !
                        </p>
                        <div class="partner-stats">
                            <span class="partner-stat">
                                <i class="fas fa-calendar"></i> 12/01/2025
                            </span>
                            <span class="partner-stat">
                                <i class="fas fa-user-friends"></i> 2 Recrutements
                            </span>
                        </div>
                        <div class="partner-actions" style="display: flex; gap: 10px;">
                            <a href="{{ path('app_equipes_index') }}" class="btn-partner" style="flex: 1; text-decoration: none; display: flex; align-items: center; justify-content: center; font-size: 13px;">
                                <i class="fas fa-eye"></i> D√©tails
                            </a>
                            <a href="#" class="btn-gradient" style="flex: 1; text-decoration: none; padding: 10px; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 5px; border-radius: 8px;">
                                <i class="fas fa-paper-plane"></i> Postuler
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 2: MON √âQUIPE (CONSULTATION UNIQUEMENT - PAS DE CR√âATION) -->
        <!-- SECTION 2: MON √âQUIPE (CONSULTATION UNIQUEMENT) -->
        <div style="margin-bottom: 80px;">
            <h2 class="section-title" style="margin-bottom: 20px;">
                <i class="fas fa-user-shield"></i> MON √âQUIPE
            </h2>
            <p class="section-subtitle">
                Consultez votre √©quipe actuelle
            </p>

            <div id="my-team-container">
                {% if myTeam %}
                <!-- CAS 2: Le joueur A une √©quipe (R√©el, rendu par Twig Server-Side) -->
                <div id="has-team-state" style="display: block;">
                    <div class="partners-grid" style="max-width: 450px; margin: 0 auto;">
                        <div class="partner-card featured animate__animated animate__fadeInUp">
                            <div class="partner-badge">
                                <i class="fas fa-crown"></i> MON √âQUIPE
                            </div>
                            <div class="partner-image">
                                <img src="{{ myTeam.logo ? asset('uploads/equipes/' ~ myTeam.logo) : asset('images/logo3.png') }}" alt="{{ myTeam.nomEquipe }}">
                            </div>
                            <div class="partner-info">
                                <h3 class="partner-name">{{ myTeam.nomEquipe }}</h3>
                                <div style="text-align: center; margin-bottom: 15px;">
                                    <span class="badge badge-primary">
                                        <i class="fas fa-medal"></i> {{ myTeam.classement }}
                                    </span>
                                </div>
                                <p class="partner-description">
                                    {{ myTeam.description ? myTeam.description|slice(0, 80) ~ '...' : 'Aucune description' }}
                                </p>
                                <div class="partner-stats">
                                    <span class="partner-stat">
                                        <i class="fas fa-calendar"></i> {{ myTeam.dateCreation|date('d/m/Y') }}
                                    </span>
                                    <span class="partner-stat">
                                        <i class="fas fa-user-friends"></i> {{ myTeam.recrutements|length }} Demande(s)
                                    </span>
                                </div>
                                <div class="partner-actions" style="display: flex; flex-direction: column; gap: 10px;">
                                    <a href="{{ path('app_equipes_show', {'id': myTeam.id}) }}" class="btn-partner" style="width: 100%; text-decoration: none; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-eye" style="margin-right: 8px;"></i> Voir D√©tails
                                    </a>
                                    
                                    {% if isManager|default(false) %}
                                        <div style="display: flex; gap: 10px; width: 100%;">
                                            <a href="{{ path('app_recrutements_manage', {'id': myTeam.id}) }}" class="btn-gradient" style="flex: 1; padding: 10px; text-decoration: none; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 5px;">
                                                <i class="fas fa-user-plus"></i> G√©rer
                                            </a>
                                            <a href="{{ path('app_equipes_edit', {'id': myTeam.id}) }}" class="btn-outline" style="flex: 1; padding: 10px; text-decoration: none; font-size: 13px; border: 1px solid #FFC107; color: #FFC107; display: flex; align-items: center; justify-content: center; gap: 5px;">
                                                <i class="fas fa-edit"></i> Modifier
                                            </a>
                                        </div>
                                        <form method="post" action="{{ path('app_equipes_delete', {'id': myTeam.id}) }}" onsubmit="return confirm('√ätes-vous s√ªr ?');" style="width: 100%;">
                                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ myTeam.id) }}">
                                            <button class="btn-outline" style="width: 100%; padding: 10px; border: 1px solid var(--primary-pink); color: var(--primary-pink); background: none; cursor: pointer; font-family: inherit; font-size: 13px;">
                                                <i class="fas fa-trash-alt"></i> Supprimer l'√âquipe
                                            </button>
                                        </form>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <!-- CAS 1: Le joueur N'A PAS d'√©quipe -->
                <div id="no-team-state" style="display: block;">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-users-slash"></i>
                        </div>
                        <h3 class="empty-title">Vous n'avez pas encore d'√©quipe</h3>
                        <p class="empty-text">
                            Cr√©ez votre propre √©quipe pour commencer votre aventure e-sport et g√©rer vos membres
                        </p>
                        <div style="display: flex; gap: 20px; justify-content: center; margin-top: 30px; flex-wrap: wrap;">
                            <a href="{{ path('app_equipes_new') }}" class="btn-gradient" style="padding: 16px 35px; font-size: 16px; font-weight: 600; border-radius: 12px; text-transform: uppercase; letter-spacing: 1px; text-decoration: none; display: inline-flex; align-items: center; gap: 10px;">
                                <i class="fas fa-plus-circle"></i> Cr√©er une √âquipe
                            </a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- SECTION: FIL D'ACTUALIT√â -->
        <div style="margin-bottom: 80px;">
            <h2 class="section-title" style="margin-bottom: 20px;">
                <i class="fas fa-newspaper"></i> FIL D'ACTUALIT√â
            </h2>
            <p class="section-subtitle">
                Les derni√®res news de la communaut√© E-Sportify
            </p>
            
            <!-- News Banner Slider -->
            <div class="info-card" style="overflow: hidden; position: relative; padding: 20px;">
                <div id="news-ticker" style="display: flex; gap: 60px; animation: ticker 25s linear infinite; white-space: nowrap;">
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-success"><i class="fas fa-trophy"></i> TOURNOI</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üèÜ Le Tournoi Winter Cup 2025 commence le 15 F√©vrier !</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-primary"><i class="fas fa-users"></i> √âQUIPE</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üëä Blaze Esports remporte le championnat r√©gional</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge" style="background: var(--warning-color); border: none;"><i class="fas fa-gift"></i> PROMO</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üéÅ -30% sur tous les packs premium cette semaine !</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-primary"><i class="fas fa-star"></i> NOUVEAU</span>
                        <span style="color: var(--text-primary); font-weight: 600;">‚ú® Nouveau syst√®me de classement disponible</span>
                    </div>
                    <!-- Duplicate for infinite scroll -->
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-success"><i class="fas fa-trophy"></i> TOURNOI</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üèÜ Le Tournoi Winter Cup 2025 commence le 15 F√©vrier !</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-primary"><i class="fas fa-users"></i> √âQUIPE</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üëä Blaze Esports remporte le championnat r√©gional</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge" style="background: var(--warning-color); border: none;"><i class="fas fa-gift"></i> PROMO</span>
                        <span style="color: var(--text-primary); font-weight: 600;">üéÅ -30% sur tous les packs premium cette semaine !</span>
                    </div>
                    <div class="news-item" style="display: flex; align-items: center; gap: 15px;">
                        <span class="badge badge-primary"><i class="fas fa-star"></i> NOUVEAU</span>
                        <span style="color: var(--text-primary); font-weight: 600;">‚ú® Nouveau syst√®me de classement disponible</span>
                    </div>
                </div>
            </div>
        </div>

        <style>
            @keyframes ticker {
                0% { transform: translateX(0); }
                100% { transform: translateX(-50%); }
            }
            #news-ticker:hover {
                animation-play-state: paused;
            }
        </style>


        <!-- SECTION 4: BOUTIQUE -->
        <div style="margin-bottom: 80px;">
            <h2 class="section-title" style="margin-bottom: 20px;">
                <i class="fas fa-shopping-cart"></i> BOUTIQUE E-SPORT
            </h2>
            <p class="section-subtitle">
                D√©couvrez nos articles exclusifs pour booster votre exp√©rience gaming
            </p>

            <div class="partners-grid">
                <!-- Product 1 -->
                <div class="card" style="overflow: hidden;">
                    <div style="height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                        <i class="fas fa-trophy" style="font-size: 80px; color: rgba(255, 255, 255, 0.3);"></i>
                        <span class="badge badge-danger" style="position: absolute; top: 15px; right: 15px; font-size: 13px;">
                            -20%
                        </span>
                    </div>
                    <div style="padding: 20px;">
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 18px; margin-bottom: 10px;">
                            Pack Premium
                        </h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">
                            Acc√®s illimit√© aux tournois premium + 3 mois VIP
                        </p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="font-size: 24px; font-weight: 900; color: var(--primary-blue); font-family: 'Orbitron', sans-serif;">39‚Ç¨</span>
                                <span style="font-size: 16px; color: var(--text-secondary); text-decoration: line-through; margin-left: 8px;">49‚Ç¨</span>
                            </div>
                            <button class="btn-gradient" style="padding: 10px 20px;">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="card" style="overflow: hidden;">
                    <div style="height: 200px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); display: flex; align-items: center; justify-content: center; position: relative;">
                        <i class="fas fa-star" style="font-size: 80px; color: rgba(255, 255, 255, 0.3);"></i>
                        <span class="badge badge-success" style="position: absolute; top: 15px; right: 15px; font-size: 13px;">
                            POPULAIRE
                        </span>
                    </div>
                    <div style="padding: 20px;">
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 18px; margin-bottom: 10px;">
                            Boost XP x2
                        </h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">
                            Doublez vos gains d'XP pendant 7 jours
                        </p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="font-size: 24px; font-weight: 900; color: var(--primary-pink); font-family: 'Orbitron', sans-serif;">9‚Ç¨</span>
                            </div>
                            <button class="btn-gradient" style="padding: 10px 20px;">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="card" style="overflow: hidden;">
                    <div style="height: 200px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); display: flex; align-items: center; justify-content: center; position: relative;">
                        <i class="fas fa-shield-alt" style="font-size: 80px; color: rgba(255, 255, 255, 0.3);"></i>
                        <span class="badge badge-warning" style="position: absolute; top: 15px; right: 15px; font-size: 13px; background: var(--warning-color); border: none;">
                            NOUVEAU
                        </span>
                    </div>
                    <div style="padding: 20px;">
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 18px; margin-bottom: 10px;">
                            Badge Personnalis√©
                        </h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">
                            Cr√©ez votre badge unique pour votre profil
                        </p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="font-size: 24px; font-weight: 900; color: var(--primary-blue); font-family: 'Orbitron', sans-serif;">14‚Ç¨</span>
                            </div>
                            <button class="btn-gradient" style="padding: 10px 20px;">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="card" style="overflow: hidden;">
                    <div style="height: 200px; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); display: flex; align-items: center; justify-content: center; position: relative;">
                        <i class="fas fa-crown" style="font-size: 80px; color: rgba(255, 255, 255, 0.3);"></i>
                    </div>
                    <div style="padding: 20px;">
                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 18px; margin-bottom: 10px;">
                            Statut VIP
                        </h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">
                            Acc√®s √† toutes les fonctionnalit√©s premium
                        </p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="font-size: 24px; font-weight: 900; color: var(--primary-pink); font-family: 'Orbitron', sans-serif;">29‚Ç¨</span>
                                <span style="font-size: 14px; color: var(--text-secondary);">/mois</span>
                            </div>
                            <button class="btn-gradient" style="padding: 10px 20px;">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View All Button -->
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn-outline" style="padding: 16px 40px;" onclick="window.location.href='shop.html'">
                    <i class="fas fa-store"></i> Voir Toute la Boutique
                </button>
            </div>
        </div>

        <!-- CTA Section -->
        <section class="cta-section" style="margin-top: 60px;">
            <h2 class="cta-title">Rejoignez la Communaut√© E-Sport</h2>
            <p class="cta-text">
                Connectez-vous avec d'autres joueurs et d√©veloppez votre √©quipe
            </p>
            <button class="btn-cta" onclick="window.location.href='#'">
                <i class="fas fa-rocket"></i> EXPLORER LES TOURNOIS
            </button>
        </section>

        <!-- Join Team Modal -->
        <div id="join-team-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 9999; overflow-y: auto; padding: 40px 20px;">
            <div style="max-width: 900px; margin: 0 auto; background: var(--card-bg); border-radius: var(--radius-xl); padding: 40px; border: 2px solid var(--primary-blue); position: relative;">
                <!-- Close Button -->
                <button onclick="closeJoinTeamModal()" style="position: absolute; top: 20px; right: 20px; background: transparent; border: 2px solid var(--primary-pink); color: var(--primary-pink); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center; transition: var(--transition);">
                    <i class="fas fa-times"></i>
                </button>

                <!-- Modal Header -->
                <h2 style="font-family: 'Orbitron', sans-serif; font-size: 32px; margin-bottom: 10px; color: var(--primary-blue);">
                    <i class="fas fa-sign-in-alt"></i> REJOINDRE UNE √âQUIPE
                </h2>
                <p style="color: var(--text-secondary); margin-bottom: 40px; font-size: 16px;">
                    Recherchez une √©quipe et postulez pour les rejoindre
                </p>

                <!-- Search Bar -->
                <div style="margin-bottom: 30px;">
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="team-search" placeholder="Rechercher une √©quipe..." 
                               style="flex: 1; padding: 15px; border-radius: var(--radius-md); border: 2px solid rgba(0, 217, 255, 0.2); background: var(--darker-bg); color: var(--text-primary); font-family: 'Rajdhani', sans-serif; font-size: 15px;">
                        <button class="btn-gradient" onclick="searchTeams()" style="padding: 15px 30px;">
                            <i class="fas fa-search"></i> Rechercher
                        </button>
                    </div>
                </div>

                <!-- Available Teams List -->
                <div id="available-teams" style="display: grid; gap: 20px;">
                    {% for team in featuredTeams %}
                    <div class="card animate__animated animate__fadeIn" style="padding: 25px;">
                        <div style="display: flex; gap: 20px; align-items: start;">
                            <img src="{{ team.logo ? asset('uploads/equipes/' ~ team.logo) : asset('images/logo3.png') }}" alt="{{ team.nomEquipe }}" 
                                 style="width: 80px; height: 80px; border-radius: 16px; border: 3px solid var(--primary-blue); object-fit: cover; flex-shrink: 0;">
                            <div style="flex: 1;">
                                <h3 style="font-family: 'Orbitron', sans-serif; font-size: 22px; margin-bottom: 8px;">
                                    {{ team.nomEquipe }}
                                </h3>
                                <div style="display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap;">
                                    <span class="badge badge-primary">
                                        <i class="fas fa-medal"></i> {{ team.classement }}
                                    </span>
                                    <span class="badge badge-success">
                                        <i class="fas fa-door-open"></i> RECRUTEMENT OUVERT
                                    </span>
                                </div>
                                <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 15px;">
                                    {{ team.description|slice(0, 100) }}...
                                </p>
                                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                    <button class="btn-gradient" onclick="applyToTeam({{ team.id }}, '{{ team.nomEquipe|e('js') }}')" style="padding: 12px 24px;">
                                        <i class="fas fa-paper-plane"></i> Postuler
                                    </button>
                                    <button class="btn-outline" onclick="window.location.href='{{ path('app_equipes_show', {'id': team.id}) }}'" style="padding: 12px 24px;">
                                        <i class="fas fa-eye"></i> Voir D√©tails
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% else %}
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <i class="fas fa-search" style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;"></i>
                        <p>Aucune √©quipe en vedette pour le moment. Utilisez la recherche pour trouver une √©quipe.</p>
                    </div>
                    {% endfor %}
                </div>

                <!-- No Results State -->
                <div id="no-teams-found" style="display: none; text-align: center; padding: 60px 20px;">
                    <i class="fas fa-search" style="font-size: 80px; color: var(--text-secondary); margin-bottom: 20px; opacity: 0.5;"></i>
                    <h3 style="color: var(--text-secondary); font-size: 20px;">Aucune √©quipe trouv√©e</h3>
                    <p style="color: var(--text-secondary); margin-top: 10px;">Essayez une autre recherche</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer" style="margin-left: 0; margin-top: 60px;">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Navigation</h3>
                    <ul>
                        <li><a href="{{ path('app_home') }}">Accueil</a></li>
                        <li><a href="#">Tournois</a></li>
                        <li><a href="{{ path('app_equipes_index') }}">√âquipes</a></li>
                        <li><a href="#">Recrutement</a></li>
                        <li><a href="#">Shop</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">R√®glement</a></li>
                        <li><a href="#">Conditions d'utilisation</a></li>
                        <li><a href="#">Politique de confidentialit√©</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">
                        Inscrivez-vous pour recevoir les derni√®res actualit√©s
                    </p>
                    <form style="display: flex; gap: 10px;">
                        <input type="email" placeholder="Votre email" 
                               style="flex: 1; padding: 12px; border-radius: 8px; border: 2px solid var(--primary-blue); 
                                      background: var(--card-bg); color: var(--text-primary);">
                        <button type="submit" 
                                style="padding: 12px 24px; border-radius: 8px; border: none; 
                                       background: var(--gradient-1); color: white; cursor: pointer; font-weight: 700;">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 ESportify. Tous droits r√©serv√©s. D√©velopp√© avec ‚ù§Ô∏è pour la communaut√© e-sport.</p>
            </div>
        </footer>
    </main>

    <!-- JavaScript -->
    <script src="{{ asset('js/app.js') }}"></script>
    <script>
        // Variable globale pour stocker l'ID de l'√©quipe du joueur
        window.myTeamId = null;
        window.userHasTeam = {% if myTeam %}true{% else %}false{% endif %};
        {% if app.session.get('my_team_id') %}
            window.serverTeamId = {{ app.session.get('my_team_id') }};
        {% else %}
            window.serverTeamId = null;
        {% endif %}

        // Affiche un message lorsque l'utilisateur demande √† voir son √©quipe mais qu'il n'en a pas
        function showNoTeamAlert() {
            alert("Vous n'avez pas encore d'√©quipe. Rejoignez une √©quipe pour commencer !");
        }

        // Navigate to a team safely
        function navigateToTeam(teamId) {
            if (!teamId) {
                showNoTeamAlert();
                return;
            }

            fetch('/equipe/' + teamId, { method: 'GET' })
                .then(response => {
                    if (response.ok) {
                        window.location.href = '/equipe/' + teamId;
                    } else {
                        showNoTeamAlert();
                    }
                })
                .catch(() => {
                    showNoTeamAlert();
                });
        }

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                const body = document.body;
                const currentTheme = body.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                body.setAttribute('data-theme', newTheme);
                
                const icon = themeToggle.querySelector('i');
                const text = themeToggle.querySelector('span');
                if (newTheme === 'light') {
                    icon.className = 'fas fa-sun';
                    text.textContent = 'Mode Jour';
                } else {
                    icon.className = 'fas fa-moon';
                    text.textContent = 'Mode Nuit';
                }
            });
        }

        // JS supprim√© car remplac√© par Twig Server-Side Rendering
        // La logique d'affichage de l'√©quipe du manager est d√©sormais g√©r√©e par le contr√¥leur et Twig.


        // ===== CHAT FUNCTIONS =====
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message === '') return;
            
            const chatMessages = document.getElementById('chat-messages');
            const newMessage = document.createElement('div');
            newMessage.className = 'chat-message';
            newMessage.style.marginBottom = '20px';
            newMessage.style.animation = 'fadeInUp 0.3s';
            
            newMessage.innerHTML = `
                <div style="display: flex; gap: 15px;">
                    <div style="width: 45px; height: 45px; border-radius: 50%; background: var(--gradient-1); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 16px; flex-shrink: 0;">
                        ME
                    </div>
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-weight: 700; color: var(--text-primary);">Moi</span>
                            <span class="badge badge-primary" style="font-size: 11px; padding: 3px 8px;">JOUEUR</span>
                            <span style="font-size: 12px; color: var(--text-secondary);">√† l'instant</span>
                        </div>
                        <p style="color: var(--text-primary); line-height: 1.6;">
                            ${message}
                        </p>
                    </div>
                </div>
            `;
            
            chatMessages.appendChild(newMessage);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            input.value = '';
        }

        function openFullChat() {
            alert('üöÄ Fonctionnalit√© Chat Complet en cours de d√©veloppement !');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            const chatMessages = document.getElementById('chat-messages');
            if (chatMessages) {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });

        // ===== JOIN TEAM FUNCTIONS =====
        function showJoinTeamModal() {
            document.getElementById('join-team-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeJoinTeamModal() {
            document.getElementById('join-team-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function searchTeams() {
            const searchInput = document.getElementById('team-search');
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            const availableTeams = document.getElementById('available-teams');
            const noTeamsFound = document.getElementById('no-teams-found');
            const teamCards = availableTeams.querySelectorAll('.card');
            
            let visibleCount = 0;
            
            teamCards.forEach(card => {
                const teamName = card.querySelector('h3').textContent.toLowerCase();
                if (searchTerm === '' || teamName.includes(searchTerm)) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            if (visibleCount === 0) {
                availableTeams.style.display = 'none';
                noTeamsFound.style.display = 'block';
            } else {
                availableTeams.style.display = 'grid';
                noTeamsFound.style.display = 'none';
            }
        }

        function applyToTeam(teamId, teamName) {
            if (confirm(`üì® Envoyer votre candidature √† l'√©quipe "${teamName}" ?\n\nVous pourrez ajouter une lettre de motivation sur la page suivante.`)) {
                window.location.href = `recrutements/new.html?team_id=${teamId}`;
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeJoinTeamModal();
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const teamSearch = document.getElementById('team-search');
            if (teamSearch) {
                teamSearch.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        searchTeams();
                    }
                });
            }
        });
    </script>

    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        #chat-messages::-webkit-scrollbar-track {
            background: var(--darker-bg);
            border-radius: 10px;
        }

        #chat-messages::-webkit-scrollbar-thumb {
            background: var(--gradient-1);
            border-radius: 10px;
        }

        #chat-messages::-webkit-scrollbar-thumb:hover {
            background: var(--primary-blue);
        }

        .chat-message:hover {
            background: rgba(0, 217, 255, 0.05);
            padding: 10px;
            border-radius: var(--radius-md);
            margin-left: -10px;
            margin-right: -10px;
        }

        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
    </style>
    <!-- Dynamic Search Script -->
    <script>
        // Store the default static content to restore it if search is empty
        let defaultTeamsContent = '';
        
        document.addEventListener('DOMContentLoaded', function() {
             const container = document.getElementById('available-teams');
             if(container) {
                 defaultTeamsContent = container.innerHTML;
             }
             
             // Input event for real-time search
             const searchInput = document.getElementById('team-search');
             if(searchInput) {
                 searchInput.addEventListener('input', function(e) {
                     if(e.target.value.length === 0) {
                         // Restore default if empty
                         document.getElementById('available-teams').innerHTML = defaultTeamsContent;
                         document.getElementById('no-teams-found').style.display = 'none';
                     } else if(e.target.value.length > 2) {
                         // Trigger search if more than 2 chars
                         searchTeams();
                     }
                 });
             }
        });

        function searchTeams() {
            const query = document.getElementById('team-search').value;
            const resultsContainer = document.getElementById('available-teams');
            const noResults = document.getElementById('no-teams-found');
            
            if (!query) return;

            // Show loading state (optional visual improvement)
            resultsContainer.style.opacity = '0.5';

            fetch(`/equipe/api/search?q=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    resultsContainer.innerHTML = '';
                    resultsContainer.style.opacity = '1';
                    
                    if (data.length === 0) {
                        noResults.style.display = 'block';
                    } else {
                        noResults.style.display = 'none';
                        data.forEach(team => {
                            // Determine badge color based on rank
                            let badgeClass = 'badge-primary';
                            let icon = 'fa-medal';
                            if(team.rank === 'Challenger') { badgeClass = 'badge-danger'; icon = 'fa-trophy'; }
                            else if(team.rank === 'Diamant') { badgeClass = 'badge-info'; icon = 'fa-gem'; }
                            
                            // Construct Logo Path
                            const logoPath = team.logo 
                                ? `/uploads/equipes/${team.logo}`
                                : `/images/logo3.png`; // Fallback logo

                            const cardHtml = `
                            <div class="card animate__animated animate__fadeIn" style="padding: 25px;">
                                <div style="display: flex; gap: 20px; align-items: start;">
                                    <img src="${logoPath}" alt="${team.name}" 
                                         style="width: 80px; height: 80px; border-radius: 16px; border: 3px solid var(--primary-blue); object-fit: cover; flex-shrink: 0;">
                                    <div style="flex: 1;">
                                        <h3 style="font-family: 'Orbitron', sans-serif; font-size: 22px; margin-bottom: 8px;">
                                            ${team.name}
                                        </h3>
                                        <div style="display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap;">
                                            <span class="badge ${badgeClass}">
                                                <i class="fas ${icon}"></i> ${team.rank}
                                            </span>
                                            <span class="badge badge-success">
                                                <i class="fas fa-door-open"></i> RECRUTEMENT OUVERT
                                            </span>
                                            <span class="badge" style="background: rgba(0, 217, 255, 0.1); color: var(--primary-blue); border: 1px solid var(--primary-blue);">
                                                <i class="fas fa-flag"></i> ${team.region}
                                            </span>
                                        </div>
                                        <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 15px;">
                                            ${team.description}
                                        </p>
                                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                            <button class="btn-outline" onclick="window.location.href='/equipe/${team.id}'" style="padding: 12px 24px; flex: 1;">
                                                <i class="fas fa-eye"></i> D√©tails
                                            </button>
                                            <button class="btn-gradient" onclick="applyToTeam(${team.id}, '${team.nomEquipe}')" style="padding: 12px 24px; flex: 1; border-radius: 8px;">
                                                <i class="fas fa-paper-plane"></i> Postuler
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            `;
                            resultsContainer.innerHTML += cardHtml;
                        });
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    resultsContainer.style.opacity = '1';
                });
        }
        
        function applyToTeam(id, name) {
            // Redirection directe vers le formulaire
            window.location.href = '/equipe/' + id + '/postuler';
        }
    </script>
</body>
</html>