{% extends 'admin/layout.html.twig' %}

{% block title %}Créer un Tournoi - Admin{% endblock %}
{% block page_title %}Créer un Tournoi{% endblock %}

{% block body %}
<div class="admin-form-wrapper animate__animated animate__fadeInUp">
    <div class="admin-form-card">
        <div class="admin-form-header">
            <div class="admin-form-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <div>
                <h2 class="admin-form-title">Ajouter un Tournoi</h2>
                <p class="admin-form-subtitle">Créez un nouveau tournoi et configurez ses paramètres.</p>
            </div>
        </div>

        <form method="POST" class="admin-form">
            {% if app.flashes('error') %}
                {% for message in app.flashes('error') %}
                    <div class="admin-form-error" style="margin-bottom: 12px;">
                        <i class="fas fa-exclamation-circle"></i> {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            {% if errors is defined and errors|length > 0 %}
                {% for message in errors %}
                    <div class="admin-form-error" style="margin-bottom: 12px;">
                        <i class="fas fa-exclamation-circle"></i> {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            <div class="admin-form-grid">
                <div>
                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-font"></i> Nom du tournoi
                        </label>
                        <input type="text" name="name" value="{{ formData.name|default('') }}" class="admin-form-input" placeholder="Nom du tournoi">
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-gamepad"></i> Type de jeu
                        </label>
                        <select name="type_game" class="admin-form-select">
                            <option value="">-- Sélectionner --</option>
                            <option value="FPS" {% if formData.type_game is defined and formData.type_game == 'FPS' %}selected{% endif %}>FPS</option>
                            <option value="Sports" {% if formData.type_game is defined and formData.type_game == 'Sports' %}selected{% endif %}>Sports</option>
                            <option value="Battle_royale" {% if formData.type_game is defined and formData.type_game == 'Battle_royale' %}selected{% endif %}>Battle Royale</option>
                            <option value="Mind" {% if formData.type_game is defined and formData.type_game == 'Mind' %}selected{% endif %}>Mind</option>
                        </select>
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-dice"></i> Jeu
                        </label>
                        <input type="text" name="game" value="{{ formData.game|default('') }}" class="admin-form-input" placeholder="ex: League of Legends">
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-calendar-day"></i> Date de début
                        </label>
                        <input type="datetime-local" name="startDate" value="{{ formData.startDate|default('') }}" class="admin-form-input">
                    </div>
                </div>

                <div>
                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-users"></i> Type de tournoi
                        </label>
                        <select name="type_tournoi" class="admin-form-select">
                            <option value="">-- Sélectionner --</option>
                            <option value="solo" {% if formData.type_tournoi is defined and formData.type_tournoi == 'solo' %}selected{% endif %}>Solo</option>
                            <option value="squad" {% if formData.type_tournoi is defined and formData.type_tournoi == 'squad' %}selected{% endif %}>Squad</option>
                        </select>
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-calendar-check"></i> Date de fin
                        </label>
                        <input type="datetime-local" name="endDate" value="{{ formData.endDate|default('') }}" class="admin-form-input">
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-coins"></i> Dotation ($)
                        </label>
                        <input type="text" name="prize_won" value="{{ formData.prize_won|default('') }}" class="admin-form-input" placeholder="Montant">
                    </div>

                    <div class="admin-form-group">
                        <label class="admin-form-label">
                            <i class="fas fa-layer-group"></i> Places max (optionnel)
                        </label>
                        <input type="text" name="max_places" value="{{ formData.max_places|default('') }}" class="admin-form-input" placeholder="Laisser vide = illimité">
                    </div>
                </div>
            </div>

            <div class="admin-form-actions">
                <a href="{{ path('admin_tournoi_index') }}" class="admin-form-cancel">
                    <i class="fas fa-arrow-left"></i> Annuler
                </a>
                <button type="submit" class="admin-form-submit">
                    <i class="fas fa-save"></i> Créer
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
