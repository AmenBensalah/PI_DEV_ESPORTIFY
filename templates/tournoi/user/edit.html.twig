{% extends 'base.html.twig' %}

{% block title %}Edit Tournament{% endblock %}

{% block body %}
<section class="tournoi-hero">
    <div class="tournoi-hero-inner">
        <div class="tournoi-kicker">Admin</div>
        <h1 class="tournoi-title">Edit Tournament</h1>
        <p class="tournoi-lead">Mise a jour des informations du tournoi.</p>
    </div>
    <div class="tournoi-hero-glow"></div>
</section>

<section class="tournoi-shell">
    <div class="tournoi-panel">
        <form method="POST" class="tournoi-form">
            <div class="field">
                <label>Tournament Name</label>
                <input type="text" name="name" value="{{ tournoi.name }}" required>
            </div>
            <div class="field">
                <label>Game Type</label>
                <select name="type_game" required>
                    <option value="FPS" {% if tournoi.typeGame == 'FPS' %}selected{% endif %}>FPS</option>
                    <option value="Sports" {% if tournoi.typeGame == 'Sports' %}selected{% endif %}>Sports</option>
                    <option value="Battle_royale" {% if tournoi.typeGame == 'Battle_royale' %}selected{% endif %}>Battle Royale</option>
                    <option value="Mind" {% if tournoi.typeGame == 'Mind' %}selected{% endif %}>Mind</option>
                </select>
            </div>
            <div class="field">
                <label>Tournament Type</label>
                <select name="type_tournoi" required>
                    <option value="solo" {% if tournoi.typeTournoi == 'solo' %}selected{% endif %}>Solo</option>
                    <option value="squad" {% if tournoi.typeTournoi == 'squad' %}selected{% endif %}>Squad</option>
                </select>
            </div>
            <div class="field">
                <label>Game</label>
                <input type="text" name="game" value="{{ tournoi.game }}" required>
            </div>
            <div class="field">
                <label>Start Date</label>
                <input type="datetime-local" name="startDate" value="{{ tournoi.startDate|date('Y-m-d\\TH:i') }}" required>
            </div>
            <div class="field">
                <label>End Date</label>
                <input type="datetime-local" name="endDate" value="{{ tournoi.endDate|date('Y-m-d\\TH:i') }}" required>
            </div>
            <div class="field">
                <label>Status</label>
                <select name="status" required>
                    <option value="planned" {% if tournoi.status == 'planned' %}selected{% endif %}>Planned</option>
                    <option value="ongoing" {% if tournoi.status == 'ongoing' %}selected{% endif %}>Ongoing</option>
                    <option value="finished" {% if tournoi.status == 'finished' %}selected{% endif %}>Finished</option>
                </select>
            </div>
            <div class="field">
                <label>Prize Pool ($)</label>
                <input type="number" step="0.01" name="prize_won" value="{{ tournoi.prizeWon }}" required>
            </div>
            <div class="tournoi-actions-row">
                <button type="submit" class="neo-btn">Update</button>
                <a href="{{ path('tournoi_show', {id: tournoi.idTournoi}) }}" class="neo-btn ghost">Cancel</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
