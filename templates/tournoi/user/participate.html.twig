{% extends 'base.html.twig' %}

{% block title %}Demande de participation - {{ tournoi.name }}{% endblock %}

{% block body %}
<section class="tournoi-hero">
    <div class="tournoi-hero-inner">
        <div class="tournoi-kicker">Participation</div>
        <h1 class="tournoi-title">{{ tournoi.name }}</h1>
        <p class="tournoi-lead">Envoie ta demande pour rejoindre le tournoi.</p>
    </div>
    <div class="tournoi-hero-glow"></div>
</section>

<section class="tournoi-shell">
    <div class="tournoi-panel">
        {% for message in app.flashes('error') %}
            <div class="flash-error" role="status" aria-live="polite" style="margin:12px 0; background: rgba(255,0,110,0.06); border:1px solid var(--primary-pink); padding:10px 12px; border-radius:8px;">
                <i class="fas fa-exclamation-circle" style="color: var(--primary-pink); font-size: 18px; margin-right:10px;"></i>
                <span style="color: var(--primary-pink); font-weight:600;">{{ message }}</span>
            </div>
        {% endfor %}
        {% for message in app.flashes('success') %}
            <div class="flash-success" role="status" aria-live="polite" style="margin:12px 0;">
                <i class="fas fa-check-circle" style="color: var(--success-color); font-size: 18px; margin-right:10px;"></i>
                <span style="color: var(--success-color); font-weight:600;">{{ message }}</span>
            </div>
        {% endfor %}

        <form method="POST" class="tournoi-form">
            <div class="field">
                <label>Niveau du joueur</label>
                <select name="player_level">
                    <option value="">-- Choisir --</option>
                    <option value="debutant">Debutant</option>
                    <option value="amateur">Amateur</option>
                    <option value="pro">Pro</option>
                </select>
            </div>

            <div class="field" style="grid-column: 1 / -1;">
                <label>Message descriptif</label>
                <textarea name="message" rows="4" placeholder="Decrivez votre experience, equipe, pseudo, etc."></textarea>
            </div>

            <label class="tournoi-check">
                <input type="checkbox" name="rules_accepted">
                <span>J'accepte les regles du tournoi</span>
            </label>

            <div class="tournoi-actions-row">
                <button type="submit" class="neo-btn">Envoyer la demande</button>
                <a href="{{ path('tournoi_show', {id: tournoi.idTournoi}) }}" class="neo-btn ghost">Annuler</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
